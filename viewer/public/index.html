<html>
  <head>
    <title>Dashboard</title>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
    <script type="text/javascript">
      // <![CDATA[
function updateEvents()
{
    $.get('/events', function(data) {
      $("#events").html( "" );
      var foo = eval( data );
      var odd = true
      $.each(foo, function( entry, val ) {
         if ( odd ) { color = "silver" } else { color = "white"; }
         odd = !odd;

         $("#events").append( "<tr style=\"background-color: " + color + "\"><td>" + val['ip'] + "</td><td>" + val['msg'] + "</td><td align=\"right\">" + val['date'] + "</td></tr>" );

       });
    });
}

        $(document).ready(function()
                  {
                     $("#events").html( "<p>Loading ..</p>");
                     updateEvents();
                     setInterval( function(){ updateEvents(); }, 15000 )
                  });
      // ]]>
    </script>
  </head>
  <body>
    <div style="text-align: center;"><h2>Dashboard</h2></div>
    <p>&nbsp;</p>
    <table id="events" width="100%" border="0" cellpadding="0" cellspacing="0">
    </table>
  </body>
</html>

